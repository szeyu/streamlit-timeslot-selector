{"ast":null,"code":"import { Streamlit } from \"streamlit-component-lib\";\n\n// Function to generate time slots\nfunction generateTimeSlots(startTime, endTime, interval) {\n  const slots = [];\n  let start = parseTime(startTime);\n  const end = parseTime(endTime);\n  while (start < end) {\n    const endSlot = new Date(start.getTime() + interval * 60000);\n    slots.push(`${formatTime(start)} - ${formatTime(endSlot)}`);\n    start = endSlot;\n  }\n  return slots;\n}\n\n// Function to parse a time string\nfunction parseTime(timeStr) {\n  const [hours, minutes] = timeStr.split(':').map(Number);\n  const date = new Date();\n  date.setHours(hours, minutes, 0, 0);\n  return date;\n}\n\n// Function to format a Date object to a time string\nfunction formatTime(date) {\n  return date.toTimeString().slice(0, 5);\n}\n\n// Function to handle the component's rendering\nfunction onRender(event) {\n  Streamlit.setFrameHeight();\n}\n\n// Function to handle document ready event\ndocument.addEventListener('DOMContentLoaded', () => {\n  var _document$getElementB;\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n  const timeSlots = generateTimeSlots('08:00', '18:00', 30);\n  const table = document.getElementById('time-slots-table');\n  const theadRow = table.querySelector('thead tr');\n  const tbody = table.querySelector('tbody');\n\n  // Create header row with time slots\n  timeSlots.forEach(slot => {\n    const th = document.createElement('th');\n    th.textContent = slot;\n    theadRow.appendChild(th);\n  });\n\n  // Create rows for each day\n  days.forEach(day => {\n    const tr = document.createElement('tr');\n    const dayCell = document.createElement('td');\n    dayCell.textContent = day;\n    tr.appendChild(dayCell);\n    timeSlots.forEach(slot => {\n      const td = document.createElement('td');\n      td.classList.add('time-slot');\n      td.dataset.day = day;\n      td.dataset.time = slot;\n      td.addEventListener('click', () => {\n        td.classList.toggle('selected');\n      });\n      tr.appendChild(td);\n    });\n    tbody.appendChild(tr);\n  });\n  (_document$getElementB = document.getElementById('confirm-btn')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.addEventListener('click', () => {\n    const selectedSlots = document.querySelectorAll('.time-slot.selected');\n    const selectedTimes = Array.from(selectedSlots).map(slot => ({\n      day: slot.dataset.day,\n      time: slot.dataset.time\n    }));\n    const selectedTimesJson = JSON.stringify(selectedTimes, null, 2);\n    const selectedTimesInput = document.getElementById('selected-times');\n    console.log(selectedTimesJson);\n    Streamlit.setComponentValue(selectedTimesJson);\n    selectedTimesInput.dispatchEvent(new Event('change'));\n  });\n});\n\n// Attach our `onRender` handler to Streamlit's render event\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender);\n\n// Tell Streamlit we're ready to start receiving data\nStreamlit.setComponentReady();\n\n// Tell Streamlit to update our initial height\nStreamlit.setFrameHeight();","map":{"version":3,"names":["Streamlit","generateTimeSlots","startTime","endTime","interval","slots","start","parseTime","end","endSlot","Date","getTime","push","formatTime","timeStr","hours","minutes","split","map","Number","date","setHours","toTimeString","slice","onRender","event","setFrameHeight","document","addEventListener","_document$getElementB","days","timeSlots","table","getElementById","theadRow","querySelector","tbody","forEach","slot","th","createElement","textContent","appendChild","day","tr","dayCell","td","classList","add","dataset","time","toggle","selectedSlots","querySelectorAll","selectedTimes","Array","from","selectedTimesJson","JSON","stringify","selectedTimesInput","console","log","setComponentValue","dispatchEvent","Event","events","RENDER_EVENT","setComponentReady"],"sources":["C:/Users/szeyu/Desktop/PC Document/EmbeddedLLM/sandbox/component-template/template-reactless/timetable_selector/frontend/src/index.tsx"],"sourcesContent":["import { Streamlit, RenderData } from \"streamlit-component-lib\";\r\n\r\n// Function to generate time slots\r\nfunction generateTimeSlots(startTime: string, endTime: string, interval: number): string[] {\r\n    const slots: string[] = [];\r\n    let start = parseTime(startTime);\r\n    const end = parseTime(endTime);\r\n\r\n    while (start < end) {\r\n        const endSlot = new Date(start.getTime() + interval * 60000);\r\n        slots.push(`${formatTime(start)} - ${formatTime(endSlot)}`);\r\n        start = endSlot;\r\n    }\r\n\r\n    return slots;\r\n}\r\n\r\n// Function to parse a time string\r\nfunction parseTime(timeStr: string): Date {\r\n    const [hours, minutes] = timeStr.split(':').map(Number);\r\n    const date = new Date();\r\n    date.setHours(hours, minutes, 0, 0);\r\n    return date;\r\n}\r\n\r\n// Function to format a Date object to a time string\r\nfunction formatTime(date: Date): string {\r\n    return date.toTimeString().slice(0, 5);\r\n}\r\n\r\n// Function to handle the component's rendering\r\nfunction onRender(event: Event): void {\r\n\r\n    Streamlit.setFrameHeight();\r\n}\r\n\r\n// Function to handle document ready event\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\r\n    const timeSlots = generateTimeSlots('08:00', '18:00', 30);\r\n    const table = document.getElementById('time-slots-table') as HTMLTableElement;\r\n    const theadRow = table.querySelector('thead tr') as HTMLTableRowElement;\r\n    const tbody = table.querySelector('tbody') as HTMLTableSectionElement;\r\n\r\n    // Create header row with time slots\r\n    timeSlots.forEach(slot => {\r\n        const th = document.createElement('th');\r\n        th.textContent = slot;\r\n        theadRow.appendChild(th);\r\n    });\r\n\r\n    // Create rows for each day\r\n    days.forEach(day => {\r\n        const tr = document.createElement('tr');\r\n        const dayCell = document.createElement('td');\r\n        dayCell.textContent = day;\r\n        tr.appendChild(dayCell);\r\n\r\n        timeSlots.forEach(slot => {\r\n            const td = document.createElement('td');\r\n            td.classList.add('time-slot');\r\n            td.dataset.day = day;\r\n            td.dataset.time = slot;\r\n            td.addEventListener('click', () => {\r\n                td.classList.toggle('selected');\r\n            });\r\n            tr.appendChild(td);\r\n        });\r\n\r\n        tbody.appendChild(tr);\r\n    });\r\n\r\n    document.getElementById('confirm-btn')?.addEventListener('click', () => {\r\n        const selectedSlots = document.querySelectorAll('.time-slot.selected');\r\n        const selectedTimes = Array.from(selectedSlots).map(slot => ({\r\n            day: (slot as HTMLElement).dataset.day,\r\n            time: (slot as HTMLElement).dataset.time\r\n        }));\r\n        const selectedTimesJson = JSON.stringify(selectedTimes, null, 2);\r\n        const selectedTimesInput = document.getElementById('selected-times') as HTMLInputElement;\r\n        console.log(selectedTimesJson);\r\n        Streamlit.setComponentValue(selectedTimesJson)\r\n        selectedTimesInput.dispatchEvent(new Event('change'));\r\n    });\r\n});\r\n\r\n\r\n// Attach our `onRender` handler to Streamlit's render event\r\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender);\r\n\r\n// Tell Streamlit we're ready to start receiving data\r\nStreamlit.setComponentReady();\r\n\r\n// Tell Streamlit to update our initial height\r\nStreamlit.setFrameHeight();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}